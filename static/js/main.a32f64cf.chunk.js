(this.webpackJsonpsecurity=this.webpackJsonpsecurity||[]).push([[0],[,,,,,,,,,,,,,function(e,s,t){},function(e,s,t){},function(e,s,t){},,function(e,s,t){},function(e,s,t){},function(e,s,t){},,function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){"use strict";t.r(s);var c=t(1),a=t(8),n=t.n(a),r=t(2),d=(t(13),t(14),t(15),t(0));function i(e){var s=this,t=e.setPasscodeMessage,a=e.seconds,n=e.setSeconds;return Object(c.useEffect)((function(){var e=window.setInterval((function(){n((function(e){var c=e-1;return c<1?(fetch("".concat("https://security-system-server.herokuapp.com","/"),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){t(e.testingMode.message),n(e.testingMode.timeElapsed)})),void window.clearInterval(s)):c}))}),1e3);return function(){return window.clearInterval(e)}}),[]),Object(d.jsx)("div",{className:"PasscodeMessageSubText",children:Object(d.jsxs)("div",{children:["Refreshing in ",a," secs..."]})})}t(17);function o(e){var s=e.data,t=e.passcodeMessage,a=e.setPasscodeMessage,n=e.seconds,r=e.setSeconds;return Object(c.useEffect)((function(){a(s&&s.testingMode.message)}),[s]),Object(d.jsx)("div",{className:"PasscodeMessageContainer",children:s&&s.alert&&Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"PasscodeMessageTitle",children:"Testing Mode "}),Object(d.jsx)("div",{className:"PasscodeMessageText",children:"Enter keypad code to reset alarm"}),Object(d.jsx)("div",{className:"PasscodeMessagePasscode",children:t}),Object(d.jsx)(i,{seconds:n,setSeconds:r,setPasscodeMessage:a})]})})}function u(e){var s=e.data,t=e.setData,c=e.passcodeMessage,a=e.setPasscodeMessage,n=e.seconds,r=e.setSeconds,i=function(e){fetch("".concat("https://security-system-server.herokuapp.com","/accessLevel"),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessLevel:e.target.dataset.accessLevel})}).then((function(e){return e.json()})).then((function(e){t(e)}))};return Object(d.jsxs)("div",{className:" gridArea AccessLevelContainer",children:[Object(d.jsx)("div",{className:"Console",children:Object(d.jsxs)("div",{className:"ConsoleType",children:[">"," SELECT LEVEL OF ACCESS AND INTERACT WITH MAP TO TEST SECURITY SYSTEM..."]})}),Object(d.jsxs)("div",{className:"AccessLevelButtonContainer",children:[Object(d.jsxs)("div",{className:"AccessLevelButtons",children:[Object(d.jsxs)("button",{onClick:function(e){return i(e)},"data-access-level":"FullAccess",className:"AccessButton FullAccessButton",children:[Object(d.jsx)("div",{className:"AccessButtonSubText",children:"Access Level"}),Object(d.jsx)("div",{className:"AccessButtonText",children:"Full Access"})]}),Object(d.jsxs)("button",{onClick:function(e){return i(e)},"data-access-level":"Restricted",className:"AccessButton RestrictedAccessButton",children:[Object(d.jsx)("div",{className:"AccessButtonSubText",children:"Access Level"}),Object(d.jsx)("div",{className:"AccessButtonText",children:"Restricted"})]}),Object(d.jsxs)("button",{onClick:function(e){return i(e)},className:"AccessButton NoAccessButton","data-access-level":"NoAccess",children:[Object(d.jsx)("div",{className:"AccessButtonSubText",children:"Access Level"}),Object(d.jsx)("div",{className:"AccessButtonText",children:"No Access"})]})]}),Object(d.jsx)("div",{children:Object(d.jsx)(o,{data:s,passcodeMessage:c,setPasscodeMessage:a,seconds:n,setSeconds:r})})]})]})}t(18),t.p;function l(e){var s=e.cameraMessage;return Object(d.jsx)("div",{className:" gridArea CameraContainer",children:Object(d.jsxs)("div",{className:"CameraText",children:[s.message,"..."]})})}t(19),t(5),t(7);var j=t(3),b=t.n(j),m=t(4);t(21);t(22);function O(e){var s=e.data,t=e.setData,a=e.setPasscodeMessage,n=e.setReboot,i=Object(c.useState)({increment:0,currentPasscode:["X","X","X","X"]}),o=Object(r.a)(i,2),u=o[0],l=o[1],j=Object(c.useState)(null),O=Object(r.a)(j,2),h=O[0],p=O[1],v=function(){var e=Object(m.a)(b.a.mark((function e(){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=u,l({increment:0,currentPasscode:["X","X","X","X"]}),p(null),fetch("".concat("https://security-system-server.herokuapp.com","/keypad"),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({passcode:c})}).then((function(e){return e.json()})).then((function(e){e.error?(a(s&&s.testingMode.message),console.log("JSONresponse.error",e.error,s)):(t(e),a(""),n(!0))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){var s=u.currentPasscode.map((function(s,t){return t===u.increment?e.target.dataset.number:s}));p(3===h?0:u.increment+1);var t=3===u.increment?0:u.increment+1;l({increment:t,currentPasscode:s})};return Object(d.jsx)("div",{className:" gridArea KeypadContainer",children:Object(d.jsxs)("div",{className:"Keypad",children:[Object(d.jsxs)("div",{className:"KeypadText",children:[Object(d.jsx)("div",{className:"KeypadTextUpper",children:"I/O FUNCTION LVL"}),Object(d.jsx)("div",{className:"KeypadTextMain",children:"ENTER PASSCODE TO RESET ALARM"}),Object(d.jsxs)("div",{className:"KeypadTextLower",children:[Object(d.jsx)("div",{children:"08/243"}),Object(d.jsx)("div",{children:"BACKUP 49%"})]})]}),Object(d.jsxs)("div",{className:"KeypadInputs",children:[Object(d.jsx)("div",{className:0===h?"Active Changed KeypadInput":"X"!==u.currentPasscode[0]?"Changed KeypadInput":"KeypadInput",children:u.currentPasscode[0]}),Object(d.jsx)("div",{className:1===h?"Active Changed KeypadInput":"X"!==u.currentPasscode[1]?"Changed KeypadInput":"KeypadInput",children:u.currentPasscode[1]}),Object(d.jsx)("div",{className:2===h?"Active Changed KeypadInput":"X"!==u.currentPasscode[2]?"Changed KeypadInput":"KeypadInput",children:u.currentPasscode[2]}),Object(d.jsx)("div",{className:3===h?"Active Changed KeypadInput":"X"!==u.currentPasscode[3]?"Changed KeypadInput":"KeypadInput",children:u.currentPasscode[3]})]}),Object(d.jsxs)("div",{className:"KeypadNumbers",children:[Object(d.jsx)("button",{onClick:function(e){x(e)},className:"KeypadNumber","data-number":"1",children:"1"}),Object(d.jsx)("button",{onClick:function(e){x(e)},className:"KeypadNumber","data-number":"2",children:"2"}),Object(d.jsx)("button",{onClick:function(e){x(e)},className:"KeypadNumber","data-number":"3",children:"3"}),Object(d.jsx)("button",{onClick:function(e){x(e)},className:"KeypadNumber","data-number":"4",children:"4"})," ",Object(d.jsx)("button",{onClick:function(e){x(e)},className:"KeypadNumber","data-number":"5",children:"5"})," ",Object(d.jsx)("button",{onClick:function(e){x(e)},className:"KeypadNumber","data-number":"6",children:"6"})," ",Object(d.jsx)("button",{onClick:function(e){x(e)},className:"KeypadNumber","data-number":"7",children:"7"})," ",Object(d.jsx)("button",{onClick:function(e){x(e)},className:"KeypadNumber","data-number":"8",children:"8"})," ",Object(d.jsx)("button",{disabled:!(0===h||3===h),onClick:function(e){return v()},className:"KeypadNumber OK",children:"OK"}),Object(d.jsx)("input",{className:"KeypadTextInput",autoFocus:!0,type:"text",onBlur:function(e){return e.target.focus()},onKeyDown:function(e){!u.currentPasscode.every((function(e){return"X"===e}))&&"Backspace"===e.key&&h>0&&(p(h-1),l({increment:u.increment-1,currentPasscode:u.currentPasscode}));if(["1","2","3","4","5","6","7","8"].indexOf(e.key)>=0){var s={target:{dataset:{number:e.key}}};x(s)}else u.currentPasscode.includes("X")||"Enter"!==e.key||v()},maxLength:"4"})]})]})})}t(23);function h(e){var s=e.activityLog;return Object(d.jsx)("div",{className:"gridArea LogContainer",children:Object(d.jsxs)("div",{className:"ActivityLog",children:[Object(d.jsxs)("div",{className:"LogTitle",children:[Object(d.jsx)("div",{className:"LogTitleDate",children:"DATE"}),Object(d.jsx)("div",{className:"LogTitleDate",children:"TIME"}),Object(d.jsx)("div",{className:"LogTitleActivity",children:"ACTIVITY"})]}),Object(d.jsx)("ul",{className:"ActivityLogList",children:s.slice(0).reverse().map((function(e,s){return Object(d.jsxs)("li",{className:"Log Log".concat(e.type),children:[Object(d.jsx)("div",{children:e.date.slice(0,10)}),Object(d.jsxs)("div",{children:[e.date.slice(11,-5),":GMT"]}),Object(d.jsx)("div",{children:e.log})]},e._id)}))}),!s.length&&Object(d.jsx)("div",{className:"LoadingText",children:"...PLEASE WAIT, FETCHING ACTIVITY LOG"})]})})}t(24),t(25),t(26);function p(e){e.title;var s=e.name,t=e.status,c=e.currentStatus;return Object(d.jsxs)("li",{className:"ModuleStatusList",children:[Object(d.jsxs)("div",{className:"ModuleStatusName",children:[s,".STATUS"]}),Object(d.jsxs)("div",{className:"ModuleStatusText",children:[c,Object(d.jsx)("span",{className:"ModuleStatusStatus ".concat(t),children:"\xa0"})]})]})}function v(e){var s=e.data,t=e.type,c=e.lastSync;return Object(d.jsxs)("div",{className:"ModuleContainer",children:[Object(d.jsx)("div",{className:"ModuleTypeUpperText",children:"Primary Module Type"}),Object(d.jsx)("div",{className:"ModuleType",children:"DoorSensors"===t?"Doors":t}),Object(d.jsxs)("div",{className:"ModuleTypeLowerText",children:["LAST SYNCED: ",c]}),s.map((function(e){return Object(d.jsx)(p,{name:e.status.name,status:e.status.color,currentStatus:"DoorSensor"===e.status.type?e.status.position:e.status.currentStatus},e.status.name)}))]})}function x(e){var s=e.data;return Object(d.jsxs)("div",{className:"gridArea ModuleStatusContainer",children:[Object(d.jsxs)("div",{className:"ModuleStatus",children:[Object(d.jsx)("div",{className:"ModuleStatusTitle",children:"SECURITY MODULES STATUS"}),Object(d.jsx)("div",{className:"ModuleStatusLoader",children:"O/I.MODULE.STATUS"})]}),s&&Object(d.jsxs)("div",{children:[Object(d.jsx)(v,{data:s.cameras,type:"Cameras",lastSync:s.lastSync}),Object(d.jsx)(v,{data:s.sensors,type:"Sensors",lastSync:s.lastSync}),Object(d.jsx)(v,{data:s.doorSensors,type:"DoorSensors",lastSync:s.lastSync}),Object(d.jsx)(v,{data:s.alarms,type:"Alarms",lastSync:s.lastSync}),Object(d.jsx)(v,{data:s.keypads,type:"Keypads",lastSync:s.lastSync})]})]})}function y(e){var s=e.data,t=e.activityLog,a=e.setData,n=e.passcodeMessage,i=e.setPasscodeMessage,o=e.cameraMessage,j=Object(c.useState)(15),b=Object(r.a)(j,2),m=b[0],p=b[1],v=Object(c.useState)(!1),y=Object(r.a)(v,2),N=(y[0],y[1]);return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"wrapper",children:[Object(d.jsx)(x,{data:s}),Object(d.jsx)(u,{data:s,setData:a,passcodeMessage:n,setPasscodeMessage:i,seconds:m,setSeconds:p}),Object(d.jsx)(l,{cameraMessage:o}),Object(d.jsx)(O,{data:s,setData:a,setPasscodeMessage:i,setReboot:N}),Object(d.jsx)(h,{activityLog:t})]})})}function N(){var e=Object(c.useState)(),s=Object(r.a)(e,2),t=s[0],a=s[1],n=Object(c.useState)("Ready"),i=Object(r.a)(n,2),o=i[0],u=i[1],l=Object(c.useState)([]),j=Object(r.a)(l,2),b=j[0],m=j[1],O=Object(c.useState)(""),h=Object(r.a)(O,2),p=h[0],v=h[1],x=function(e,s){fetch("".concat("https://security-system-server.herokuapp.com").concat(e),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){console.log(e),s(e)}))};return Object(c.useEffect)((function(){x("/",a)}),[]),Object(c.useEffect)((function(){x("/log",m)}),[t]),Object(c.useEffect)((function(){x("/cameraMessage",u)}),[t]),Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(y,{activityLog:b,data:t,setData:a,passcodeMessage:p,setPasscodeMessage:v,cameraMessage:o})})}n.a.render(Object(d.jsx)(N,{}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.a32f64cf.chunk.js.map