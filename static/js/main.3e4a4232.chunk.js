(this.webpackJsonpsecurity=this.webpackJsonpsecurity||[]).push([[0],[,,,,,,,,,,,,,function(e,s,t){},function(e,s,t){},function(e,s,t){},,function(e,s,t){},function(e,s,t){},function(e,s,t){},,function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){},function(e,s,t){"use strict";t.r(s);var c=t(1),n=t(8),a=t.n(n),r=t(2),i=(t(13),t(14),t(15),t(0));function d(e){var s=this,t=e.setPasscodeMessage,n=e.seconds,a=e.setSeconds;return Object(c.useEffect)((function(){var e=window.setInterval((function(){a((function(e){var c=e-1;return c<1?(fetch("".concat("https://security-system-server.herokuapp.com","/"),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){t(e.testingMode.message),a(e.testingMode.timeElapsed)})),void window.clearInterval(s)):c}))}),1e3);return function(){return window.clearInterval(e)}}),[]),Object(i.jsx)("div",{className:"PasscodeMessageSubText",children:Object(i.jsxs)("div",{children:["Refreshing in ",n," secs..."]})})}t(17);function o(e){var s=e.data,t=e.passcodeMessage,n=e.setPasscodeMessage,a=e.seconds,r=e.setSeconds;return Object(c.useEffect)((function(){n(s&&s.testingMode.message)}),[s]),Object(i.jsx)("div",{className:"PasscodeMessageContainer",children:s&&s.alert&&Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"PasscodeMessageTitle",children:"Testing Mode "}),Object(i.jsx)("div",{className:"PasscodeMessageText",children:"Enter keypad code to reset alarm"}),Object(i.jsx)("div",{className:"PasscodeMessagePasscode",children:t}),Object(i.jsx)(d,{seconds:a,setSeconds:r,setPasscodeMessage:n})]})})}function u(e){var s=e.data,t=e.setData,c=e.passcodeMessage,n=e.setPasscodeMessage,a=e.seconds,r=e.setSeconds,d=function(e){fetch("".concat("https://security-system-server.herokuapp.com","/accessLevel"),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessLevel:e.target.dataset.accessLevel})}).then((function(e){return e.json()})).then((function(e){t(e)}))};return Object(i.jsxs)("div",{className:" gridArea AccessLevelContainer",children:[Object(i.jsx)("div",{className:"Console",children:Object(i.jsxs)("div",{className:"ConsoleType",children:[">"," SELECT LEVEL OF ACCESS AND INTERACT WITH MAP TO TEST SECURITY SYSTEM..."]})}),Object(i.jsxs)("div",{className:"AccessLevelButtonContainer",children:[Object(i.jsxs)("div",{className:"AccessLevelButtons",children:[Object(i.jsxs)("button",{onClick:function(e){return d(e)},"data-access-level":"FullAccess",className:"AccessButton FullAccessButton",children:[Object(i.jsx)("div",{className:"AccessButtonSubText",children:"Access Level"}),Object(i.jsx)("div",{className:"AccessButtonText",children:"Full Access"})]}),Object(i.jsxs)("button",{onClick:function(e){return d(e)},"data-access-level":"Restricted",className:"AccessButton RestrictedAccessButton",children:[Object(i.jsx)("div",{className:"AccessButtonSubText",children:"Access Level"}),Object(i.jsx)("div",{className:"AccessButtonText",children:"Restricted"})]}),Object(i.jsxs)("button",{onClick:function(e){return d(e)},className:"AccessButton NoAccessButton","data-access-level":"NoAccess",children:[Object(i.jsx)("div",{className:"AccessButtonSubText",children:"Access Level"}),Object(i.jsx)("div",{className:"AccessButtonText",children:"No Access"})]})]}),Object(i.jsx)("div",{children:Object(i.jsx)(o,{data:s,passcodeMessage:c,setPasscodeMessage:n,seconds:a,setSeconds:r})})]})]})}t(18),t.p;function l(e){var s=e.cameraMessage;return Object(i.jsx)("div",{className:" gridArea CameraContainer",children:Object(i.jsxs)("div",{className:"CameraText",children:[s.message,"..."]})})}t(19),t(5),t(7);var j=t(3),b=t.n(j),m=t(4);t(21);t(22);function O(e){var s=e.data,t=e.setData,n=e.setPasscodeMessage,a=e.setReboot,d=Object(c.useState)({increment:0,currentPasscode:["X","X","X","X"]}),o=Object(r.a)(d,2),u=o[0],l=o[1],j=Object(c.useState)(null),O=Object(r.a)(j,2),h=O[0],v=O[1],p=function(){var e=Object(m.a)(b.a.mark((function e(){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=u,l({increment:0,currentPasscode:["X","X","X","X"]}),v(null),fetch("".concat("https://security-system-server.herokuapp.com","/keypad"),{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({passcode:c})}).then((function(e){return e.json()})).then((function(e){e.error?(n(s&&s.testingMode.message),console.log("JSONresponse.error",e.error,s)):(t(e),n(""),a(!0))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){var s=u.currentPasscode.map((function(s,t){return t===u.increment?e.target.dataset.number:s}));v(3===h?0:u.increment+1);var t=3===u.increment?0:u.increment+1;l({increment:t,currentPasscode:s})};return Object(i.jsx)("div",{className:" gridArea KeypadContainer",children:Object(i.jsxs)("div",{className:"Keypad",children:[Object(i.jsxs)("div",{className:"KeypadText",children:[Object(i.jsx)("div",{className:"KeypadTextUpper",children:"I/O FUNCTION LVL"}),Object(i.jsx)("div",{className:"KeypadTextMain",children:"ENTER PASSCODE TO RESET ALARM"}),Object(i.jsxs)("div",{className:"KeypadTextLower",children:[Object(i.jsx)("div",{children:"08/243"}),Object(i.jsx)("div",{children:"BACKUP 49%"})]})]}),Object(i.jsxs)("div",{className:"KeypadInputs",children:[Object(i.jsx)("div",{className:0===h?"Active Changed KeypadInput":"X"!==u.currentPasscode[0]?"Changed KeypadInput":"KeypadInput",children:u.currentPasscode[0]}),Object(i.jsx)("div",{className:1===h?"Active Changed KeypadInput":"X"!==u.currentPasscode[1]?"Changed KeypadInput":"KeypadInput",children:u.currentPasscode[1]}),Object(i.jsx)("div",{className:2===h?"Active Changed KeypadInput":"X"!==u.currentPasscode[2]?"Changed KeypadInput":"KeypadInput",children:u.currentPasscode[2]}),Object(i.jsx)("div",{className:3===h?"Active Changed KeypadInput":"X"!==u.currentPasscode[3]?"Changed KeypadInput":"KeypadInput",children:u.currentPasscode[3]})]}),Object(i.jsxs)("div",{className:"KeypadNumbers",children:[Object(i.jsx)("button",{onClick:function(e){x(e)},className:"KeypadNumber","data-number":"1",children:"1"}),Object(i.jsx)("button",{onClick:function(e){x(e)},className:"KeypadNumber","data-number":"2",children:"2"}),Object(i.jsx)("button",{onClick:function(e){x(e)},className:"KeypadNumber","data-number":"3",children:"3"}),Object(i.jsx)("button",{onClick:function(e){x(e)},className:"KeypadNumber","data-number":"4",children:"4"})," ",Object(i.jsx)("button",{onClick:function(e){x(e)},className:"KeypadNumber","data-number":"5",children:"5"})," ",Object(i.jsx)("button",{onClick:function(e){x(e)},className:"KeypadNumber","data-number":"6",children:"6"})," ",Object(i.jsx)("button",{onClick:function(e){x(e)},className:"KeypadNumber","data-number":"7",children:"7"})," ",Object(i.jsx)("button",{onClick:function(e){x(e)},className:"KeypadNumber","data-number":"8",children:"8"})," ",Object(i.jsx)("button",{disabled:!(0===h||3===h),onClick:function(e){return p()},className:"KeypadNumber OK",children:"OK"}),Object(i.jsx)("input",{className:"KeypadTextInput",autoFocus:!0,type:"text",onBlur:function(e){return e.target.focus()},onKeyDown:function(e){!u.currentPasscode.every((function(e){return"X"===e}))&&"Backspace"===e.key&&h>0&&(v(h-1),l({increment:u.increment-1,currentPasscode:u.currentPasscode}));if(["1","2","3","4","5","6","7","8"].indexOf(e.key)>=0){var s={target:{dataset:{number:e.key}}};x(s)}else u.currentPasscode.includes("X")||"Enter"!==e.key||p()},maxLength:"4"})]})]})})}t(23);function h(e){var s=e.activityLog;return Object(i.jsx)("div",{className:"gridArea LogContainer",children:Object(i.jsxs)("div",{className:"ActivityLog",children:[Object(i.jsxs)("div",{className:"LogTitle",children:[Object(i.jsx)("div",{className:"LogTitleDate",children:"DATE"}),Object(i.jsx)("div",{className:"LogTitleDate",children:"TIME"}),Object(i.jsx)("div",{className:"LogTitleActivity",children:"ACTIVITY"})]}),Object(i.jsx)("ul",{className:"ActivityLogList",children:s.slice(0).reverse().map((function(e,s){return Object(i.jsxs)("li",{className:"Log Log".concat(e.type),children:[Object(i.jsx)("div",{children:e.date.slice(0,10)}),Object(i.jsxs)("div",{children:[e.date.slice(11,-5),":GMT"]}),Object(i.jsx)("div",{children:e.log})]},e._id)}))}),!s.length&&Object(i.jsx)("div",{className:"LoadingText",children:"...PLEASE WAIT, FETCHING ACTIVITY LOG"})]})})}t(24),t(25),t(26);function v(e){var s=e.data,t=e.activityLog,n=e.setData,a=e.passcodeMessage,d=e.setPasscodeMessage,o=e.cameraMessage,j=Object(c.useState)(15),b=Object(r.a)(j,2),m=b[0],v=b[1],p=Object(c.useState)(!1),x=Object(r.a)(p,2),f=(x[0],x[1]);return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"wrapper",children:[Object(i.jsx)(u,{data:s,setData:n,passcodeMessage:a,setPasscodeMessage:d,seconds:m,setSeconds:v}),Object(i.jsx)(l,{cameraMessage:o}),Object(i.jsx)(O,{data:s,setData:n,setPasscodeMessage:d,setReboot:f}),Object(i.jsx)(h,{activityLog:t})]})})}function p(){var e=Object(c.useState)(),s=Object(r.a)(e,2),t=s[0],n=s[1],a=Object(c.useState)("Ready"),d=Object(r.a)(a,2),o=d[0],u=d[1],l=Object(c.useState)([]),j=Object(r.a)(l,2),b=j[0],m=j[1],O=Object(c.useState)(""),h=Object(r.a)(O,2),p=h[0],x=h[1],f=function(e,s){fetch("".concat("https://security-system-server.herokuapp.com").concat(e),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){s(e)}))};return Object(c.useEffect)((function(){f("/",n)}),[]),Object(c.useEffect)((function(){f("/log",m)}),[t]),Object(c.useEffect)((function(){f("/cameraMessage",u)}),[t]),Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(v,{activityLog:b,data:t,setData:n,passcodeMessage:p,setPasscodeMessage:x,cameraMessage:o})})}a.a.render(Object(i.jsx)(p,{}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.3e4a4232.chunk.js.map